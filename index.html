<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>لعبة طبول الحرب - النسخة المتقدمة</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #001510);
      color: #fff;
      text-align: center;
      direction: rtl;
      padding: 15px;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }
    
    h1 {
      color: #ffcc00;
      font-size: 2.5rem;
      margin: 15px 0;
      text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
      background: linear-gradient(45deg, #ffcc00, #ff6600);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .team-inputs, .selection {
      margin: 25px 0;
      padding: 15px;
      background: rgba(30, 30, 40, 0.7);
      border-radius: 12px;
    }
    
    input {
      width: 100%;
      padding: 12px 15px;
      margin: 10px 0;
      border: 2px solid #444;
      border-radius: 8px;
      background: #222;
      color: #fff;
      font-size: 16px;
    }
    
    input::placeholder {
      color: #aaa;
    }
    
    input:focus {
      outline: none;
      border-color: #ffcc00;
    }
    
    button {
      padding: 12px 25px;
      font-size: 18px;
      cursor: pointer;
      margin-top: 15px;
      background: linear-gradient(45deg, #ff8c00, #ffcc00);
      color: #000;
      border: none;
      border-radius: 30px;
      font-weight: bold;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    
    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
    }
    
    button:active {
      transform: translateY(1px);
    }
    
    .symbols {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin: 15px 0;
      gap: 8px;
    }
    
    .symbol {
      font-size: 28px;
      background: linear-gradient(145deg, #2c3e50, #4a6491);
      margin: 5px;
      padding: 15px 20px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }
    
    .symbol:hover {
      transform: scale(1.1);
      background: linear-gradient(145deg, #4a6491, #2c3e50);
      box-shadow: 0 6px 10px rgba(0, 0, 0, 0.4);
    }
    
    .symbol.disabled {
      pointer-events: none;
      opacity: 0.3;
      transform: scale(0.95);
    }
    
    .effect-box {
      margin: 20px auto;
      font-size: 20px;
      background: rgba(20, 20, 30, 0.9);
      padding: 20px;
      border-radius: 12px;
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: pre-line;
      border: 2px solid #444;
      box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
      line-height: 1.6;
      font-weight: bold;
    }
    
    #scoreDisplay {
      font-size: 22px;
      margin: 20px 0;
      padding: 15px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      border: 2px solid #ffcc00;
    }
    
    .score-value {
      color: #ffcc00;
      font-weight: bold;
      font-size: 24px;
    }
    
    .round-info {
      font-size: 24px;
      margin: 15px 0;
      color: #4dff4d;
    }
    
    .team-name {
      color: #ff9966;
      font-weight: bold;
    }
    
    .developer {
      background: rgba(0, 0, 0, 0.7);
      padding: 15px;
      border-radius: 12px;
      margin: 20px 0;
      border: 1px solid #444;
    }
    
    .developer h2 {
      color: #ffcc00;
      margin-bottom: 12px;
    }
    
    .developer ul {
      list-style-type: none;
      padding: 0;
    }
    
    .developer li {
      margin: 8px 0;
      padding: 8px;
      background: rgba(50, 50, 70, 0.5);
      border-radius: 8px;
    }
    
    .footer {
      margin-top: 25px;
      padding: 15px;
      color: #aaa;
      font-size: 14px;
    }
    
    @media (max-width: 480px) {
      .symbol {
        width: 60px;
        height: 60px;
        font-size: 24px;
        padding: 10px 15px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .effect-box {
        font-size: 18px;
        padding: 15px;
      }
      
      #scoreDisplay {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="developer">
      <h2>𖤍 | 𝐑𝐄𝐃𝐒𝐖𝐎𝐑𝐃 & فريق التطوير</h2>
      <ul>
        <li><strong>𖤍 | 𝐑𝐄𝐃𝐒𝐖𝐎𝐑𝐃</strong> – قائد المشروع_برمجة</li>
        <li>علي المطور – واجهة المستخدم وتجربة اللعب</li>
        <li>سارا – جرافيك وتصميم</li>
      </ul>
    </div>
    
    <h1>لعبة طبول الحرب ⚔️</h1>
    
    <div class="team-inputs">
      <input type="text" id="team1" placeholder="اسم الفريق الأول" value="الفريق الأحمر" />
      <input type="text" id="team2" placeholder="اسم الفريق الثاني" value="الفريق الأزرق" />
      <input type="number" id="startScore" placeholder="النقاط الابتدائية" value="400" />
      <button onclick="startGame()">ابدأ اللعبة</button>
    </div>
    
    <div class="selection" style="display:none">
      <div class="round-info" id="roundInfo">الجولة 1</div>
      <p><strong id="currentTeam" class="team-name"></strong> اختر رمزك:</p>
      
      <div class="symbols" id="symbolList"></div>
      
      <div class="effect-box" id="effectBox">اختر رمزًا لبدء الجولة الأولى!</div>
      
      <button id="nextBtn" style="display:none; margin-top:20px;" onclick="nextTurn()">التالي</button>
      
      <div id="scoreDisplay"></div>
    </div>
    
    <div class="footer">
      تم تطوير اللعبة بدقة لتكون متوافقة مع الهواتف الذكية - استمتع بالتجربة!
    </div>
  </div>

  <script>
    const symbols = [
      ...Array.from({length: 20}, (_, i) => (i+1).toString()),
      '🐘','🦒','🦁','🦌','🐪','🦘','🐎','🐄','🐸','🐟','🐢','🐍','🐈','🐀','🐓','🦆','🕊️','🦋','🐌','🐇',
      '❤️','👁️','✈️','⚽','✏️','🪶','🌛','⭐','✉️','📞','📷','🔍','🧲','💣','🔑','🔒','🏠','💼','🎵','💡'
    ];
    
    // تعليقات مضحكة لكل حالة
    const funnyEffects = {
      normal: [
        "ضربة صاروخية! 💥",
        "هجوم نمر شرس! 🐅",
        "تعويذة نارية! 🔥",
        "قنبلة ضحك! 🤣",
        "رمية سهم! 🏹",
        "صفعة قرد! 🐒",
        "صرخة تنين! 🐲",
        "خدعة سحرية! 🎩",
        "قبلة مميتة! 💋"
      ],
      selfDamage: [
        "يا إلهي! لقد أطلقت النار على قدمك! 🤦‍♂️",
        "هل تعلم أن الخصم هو الفريق الآخر؟ 😅",
        "ربما تحتاج إلى نظارة جديدة! 👓",
        "هذا ما يحدث عندما تلعب وأنت نعسان! 😴",
        "هل هذه استراتيجية جديدة؟ لأنها ليست جيدة! 🤔",
        "أوه! لقد ضربت نفسك بالخطأ.. أو ربما بقصد؟ 😏",
        "هذا يذكرني بذلك الفيلم الكوميدي! 🎬",
        "أحتاج إلى تفسير منطقي لهذا! 🤯"
      ],
      zeroDamage: [
        "يا للهول! لقد اختار رمزًا ضعيفًا جدًا... لا شيء يحدث! 🥱",
        "هذا الرمز كان مجرد وهم... لا تأثير! 👻",
        "لمسة دافئة... لكن لا ضرر! ☕",
        "كانت هذه محاولة فاشلة! 😅",
        "الريح تحمل الأوراق... لا ضرر ولا ندم! 🍃",
        "الخصم لم يشعر بأي شيء! 😌",
        "ربما تحتاج إلى شحن الرمز؟ 🔋"
      ],
      highDamage: [
        "ضربة مدمرة! الدمار في كل مكان! 💣",
        "هذا الرمز نادر وقوي جدًا! 🦄",
        "تأثير خارق! هل هذا مسموح؟ 🤯",
        "الخصم يترنح بعد هذه الضربة! 🥴",
        "أمطار من النار! 🔥",
        "زلزال مدمر! 🌋",
        "إعصار قاتل! 🌪️"
      ]
    };
    
    let teams = [], scores = {}, currentTurn = 0, round = 1;
    let waitingForNext = false;
    let remainingSymbols = [];
    
    function startGame() {
      const t1 = document.getElementById('team1').value.trim() || "الفريق الأحمر";
      const t2 = document.getElementById('team2').value.trim() || "الفريق الأزرق";
      const startScore = parseInt(document.getElementById('startScore').value) || 400;
      
      teams = [t1, t2];
      scores = {[t1]: startScore, [t2]: startScore};
      remainingSymbols = [...symbols];
      
      document.querySelector('.team-inputs').style.display = 'none';
      document.querySelector('.selection').style.display = 'block';
      waitingForNext = false;
      currentTurn = 0;
      round = 1;
      
      showTurn();
    }
    
    function showTurn() {
      document.getElementById('roundInfo').textContent = `الجولة ${round}`;
      document.getElementById('currentTeam').textContent = `دور ${teams[currentTurn]}`;
      
      if (!waitingForNext) {
        document.getElementById('effectBox').textContent = "اختر رمزًا لبدء هذه الجولة!";
      }
      
      const list = document.getElementById('symbolList');
      list.innerHTML = remainingSymbols.map(s =>
        `<div class="symbol${waitingForNext ? ' disabled':''}" onclick="selectSymbol(this, '${s}')">${s}</div>`
      ).join('');
      
      updateScoreDisplay();
      document.getElementById('nextBtn').style.display = waitingForNext ? 'inline-block' : 'none';
    }
    
    function selectSymbol(el, symbol) {
      if (waitingForNext) return;
      
      const team = teams[currentTurn];
      const other = teams[1 - currentTurn];
      
      // تحديد الفريق المستهدف (50% لكل فريق)
      const target = Math.random() < 0.5 ? team : other;
      
      // توليد الضرر مع التوزيع المطلوب
      let damage;
      const rand = Math.random();
      
      if (rand < 0.1) {
        // 10% احتمال لعدم وجود ضرر
        damage = 0;
      } else if (rand < 0.8) {
        // 70% احتمال للضرر بين 8 و19
        damage = 8 + Math.floor(Math.random() * 12);
      } else if (rand < 0.95) {
        // 15% احتمال للضرر بين 20 و25
        damage = 20 + Math.floor(Math.random() * 6);
      } else {
        // 5% احتمال للضرر بين 26 و39 (نادر)
        damage = 26 + Math.floor(Math.random() * 14);
      }
      
      // تطبيق الضرر
      scores[target] -= damage;
      
      // اختيار التعليق المناسب
      let effect;
      if (damage === 0) {
        effect = funnyEffects.zeroDamage[Math.floor(Math.random() * funnyEffects.zeroDamage.length)];
      } else if (target === team) {
        effect = funnyEffects.selfDamage[Math.floor(Math.random() * funnyEffects.selfDamage.length)];
        effect += `\n${team} خسر ${damage} نقطة من نفسه! 😂`;
      } else if (damage > 25) {
        effect = funnyEffects.highDamage[Math.floor(Math.random() * funnyEffects.highDamage.length)];
        effect += `\n${other} خسر ${damage} نقطة!`;
      } else {
        effect = funnyEffects.normal[Math.floor(Math.random() * funnyEffects.normal.length)];
        effect += `\n${other} خسر ${damage} نقطة!`;
      }
      
      document.getElementById('effectBox').innerHTML = effect;
      remainingSymbols = remainingSymbols.filter(s => s !== symbol);
      
      if (scores[target] <= 0) {
        scores[target] = 0;
        document.getElementById('effectBox').innerHTML += `\n\n<strong style="color:#ff5555;font-size:24px;">${target} خسر اللعبة! 🎉</strong>`;
        document.getElementById('symbolList').innerHTML = '';
        document.getElementById('nextBtn').style.display = 'none';
        return;
      }
      
      waitingForNext = true;
      document.getElementById('nextBtn').style.display = 'inline-block';
      document.querySelectorAll('.symbol').forEach(elm => elm.classList.add('disabled'));
    }
    
    function nextTurn() {
      if (!waitingForNext) return;
      
      waitingForNext = false;
      currentTurn = currentTurn === 0 ? 1 : 0;
      
      if (currentTurn === 0) {
        round++;
        // إعادة تعيين الرموز كل جولتين
        if (round % 2 === 0) {
          remainingSymbols = [...symbols];
        }
      }
      
      showTurn();
    }
    
    function updateScoreDisplay() {
      document.getElementById('scoreDisplay').innerHTML = 
        `${teams[0]}: <span class="score-value">${scores[teams[0]]}</span> نقطة | 
        ${teams[1]}: <span class="score-value">${scores[teams[1]]}</span> نقطة`;
    }
  </script>
</body>
</html>
